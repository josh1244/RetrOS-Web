<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RetrOS-Web</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div id="popup-container">
    <!-- Header -->
    <header class="popup-header">
      <h1 class="popup-title">RetrOS-Web</h1>
      <button id="settings-btn" class="settings-btn" title="Open settings">‚öôÔ∏è</button>
    </header>

    <!-- Main Content -->
    <main class="popup-main">
      <!-- Site Info Section -->
      <section class="site-info">
        <div class="info-group">
          <label class="info-label">Current Site:</label>
          <div id="current-domain" class="info-value">Loading...</div>
        </div>
        <div class="info-group">
          <label class="info-label">Active Era:</label>
          <div id="current-era" class="info-value">Loading...</div>
        </div>
        <div class="info-group">
          <label class="info-label">Status:</label>
          <div id="status-indicator" class="info-value status">Ready</div>
        </div>
      </section>

      <!-- Approval Section -->
      <section id="approval-section" class="approval-section">
        <div class="approval-header">
          <h3 class="approval-title">Style Applied</h3>
          <button id="close-approval-btn" class="close-btn" title="Close approval" aria-label="Close approval notification">√ó</button>
        </div>
        <p class="approval-message">Styling applied for <strong id="approval-era">your era</strong></p>
        <div class="approval-actions">
          <button id="approve-btn" class="btn btn-primary" title="Approve this style">‚úì Approve</button>
          <button id="reject-btn" class="btn btn-secondary" title="Reject and regenerate">‚úï Reject</button>
          <button id="feedback-btn" class="btn btn-secondary" title="Provide feedback">üí¨ Feedback</button>
        </div>
      </section>

      <!-- Feedback Section -->
      <section id="feedback-section" class="feedback-section" hidden>
        <h3 class="feedback-title">Style Feedback</h3>
        <div class="feedback-options">
          <button class="feedback-preset" data-feedback="too-modern" title="Style is too modern">Too Modern</button>
          <button class="feedback-preset" data-feedback="too-simple" title="Style is too simple">Too Simple</button>
          <button class="feedback-preset" data-feedback="simplify-layout" title="Simplify the layout">Simplify Layout</button>
          <button class="feedback-preset" data-feedback="more-usable" title="Make it more usable">More Usable</button>
        </div>
        <div class="feedback-input-group">
          <textarea id="feedback-text" class="feedback-textarea" placeholder="Additional feedback (optional)" maxlength="200" aria-label="Additional feedback"></textarea>
          <div class="char-counter">
            <span id="char-count">0</span><span>/200</span>
          </div>
        </div>
        <button id="regenerate-btn" class="btn btn-primary" title="Regenerate style with feedback">üîÑ Regenerate & Apply</button>
      </section>

      <!-- Era Selection (US-1.3) -->
      <section id="era-selection" class="era-selection">
        <h2>Select Web Era</h2>
        <div id="era-options" class="era-grid" role="radiogroup" aria-label="Era selection">
          <button class="era-card" role="radio" data-era="web1996" aria-checked="false" tabindex="0">
            <div class="era-preview era-web1996"></div>
            <div class="era-label">90s</div>
          </button>

          <button class="era-card" role="radio" data-era="win95" aria-checked="false" tabindex="-1">
            <div class="era-preview era-win95"></div>
            <div class="era-label">Windows 95</div>
          </button>

          <button class="era-card" role="radio" data-era="win98" aria-checked="false" tabindex="-1">
            <div class="era-preview era-win98"></div>
            <div class="era-label">Windows 98</div>
          </button>

          <button class="era-card" role="radio" data-era="winxp" aria-checked="false" tabindex="-1">
            <div class="era-preview era-winxp"></div>
            <div class="era-label">Windows XP</div>
          </button>
        </div>

        <div class="era-actions" style="margin-top:12px; display:flex; gap:8px;">
          <button id="set-default-era" class="btn btn-primary">Set as Default</button>
          <div style="flex:1"></div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="popup-footer">
      <div class="footer-info">v0.1.0 - Development</div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
